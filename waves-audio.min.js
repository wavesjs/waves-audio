!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.wavesAudio=t()}}(function(){return function t(e,n,i){function r(o,u){if(!n[o]){if(!e[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return r(n?n:t)},l,l.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e){"use strict";var n={audioContext:t("./dist/core/audio-context"),TimeEngine:t("./dist/core/time-engine"),AudioTimeEngine:t("./dist/core/audio-time-engine"),GranularEngine:t("./dist/engines/granular-engine"),Metronome:t("./dist/engines/metronome"),PlayerEngine:t("./dist/engines/player-engine"),SegmentEngine:t("./dist/engines/segment-engine"),PlayControl:t("./dist/masters/play-control"),Transport:t("./dist/masters/transport"),Scheduler:t("./dist/masters/scheduler"),SimpleScheduler:t("./dist/masters/simple-scheduler"),PriorityQueue:t("./dist/utils/priority-queue"),SchedulingQueue:t("./dist/utils/scheduling-queue"),getScheduler:t("./dist/masters/factories").getScheduler,getSimpleScheduler:t("./dist/masters/factories").getSimpleScheduler};e.exports=n},{"./dist/core/audio-context":3,"./dist/core/audio-time-engine":4,"./dist/core/time-engine":5,"./dist/engines/granular-engine":6,"./dist/engines/metronome":7,"./dist/engines/player-engine":8,"./dist/engines/segment-engine":9,"./dist/masters/factories":10,"./dist/masters/play-control":11,"./dist/masters/scheduler":12,"./dist/masters/simple-scheduler":13,"./dist/masters/transport":14,"./dist/utils/priority-queue":15,"./dist/utils/scheduling-queue":16}],2:[function(){"use strict";!function(){function t(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var e=this.internal_createGain();return t(e.gain),e},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(e){var n=e?this.internal_createDelay(e):this.internal_createDelay();return t(n.delayTime),n},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var e=this.internal_createBufferSource();return e.start||(e.start=function(t,e,n){e||n?this.noteGrainOn(t,e,n):this.noteOn(t)}),e.stop||(e.stop=e.noteOff),t(e.playbackRate),e},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var e=this.internal_createDynamicsCompressor();return t(e.threshold),t(e.knee),t(e.ratio),t(e.reduction),t(e.attack),t(e.release),e},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var e=this.internal_createBiquadFilter();return t(e.frequency),t(e.detune),t(e.Q),t(e.gain),e},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start||(e.start=e.noteOn),e.stop||(e.stop=e.noteOff),e.setPeriodicWave||(e.setPeriodicWave=e.setWaveTable),t(e.frequency),t(e.detune),e}))}(window)},{}],3:[function(t,e){"use strict";t("./ac-monkeypatch");var n;AudioContext&&(n=new AudioContext),e.exports=n},{"./ac-monkeypatch":2}],4:[function(t,e){"use strict";var n=t("babel-runtime/helpers/class-call-check")["default"],i=t("babel-runtime/helpers/inherits")["default"],r=t("babel-runtime/helpers/get")["default"],s=t("babel-runtime/helpers/create-class")["default"],o=t("babel-runtime/core-js")["default"],u=t("./time-engine"),a=t("./audio-context"),c=function(t){function e(){var t=void 0===arguments[0]?a:arguments[0];n(this,e),r(o.Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.audioContext=t,this.outputNode=null}return i(e,t),s(e,{connect:{value:function(t){return this.outputNode.connect(t),this}},disconnect:{value:function(t){return this.outputNode.disconnect(t),this}}}),e}(u);e.exports=c},{"./audio-context":3,"./time-engine":5,"babel-runtime/core-js":17,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":20,"babel-runtime/helpers/inherits":21}],5:[function(t,e){"use strict";var n=t("babel-runtime/helpers/class-call-check")["default"],i=t("babel-runtime/helpers/create-class")["default"],r=function(){function t(){n(this,t),this.master=null,this.outputNode=null}return i(t,{currentTime:{get:function(){return this.master?this.master.currentTime:void 0}},currentPosition:{get:function(){var t=this.master;return t&&void 0!==t.currentPosition?t.currentPosition:void 0}},implementsScheduled:{value:function(){return this.advanceTime&&this.advanceTime instanceof Function}},resetTime:{value:function(){var t=void 0===arguments[0]?void 0:arguments[0];this.master&&this.master.resetEngineTime(this,t)}},implementsTransported:{value:function(){return this.syncPosition&&this.syncPosition instanceof Function&&this.advancePosition&&this.advancePosition instanceof Function}},resetPosition:{value:function(){var t=void 0===arguments[0]?null:arguments[0];this.master&&this.master.resetEnginePosition(this,t)}},implementsSpeedControlled:{value:function(){return this.syncSpeed&&this.syncSpeed instanceof Function}}}),t}();e.exports=r},{"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19}],6:[function(t,e){"use strict";var n=t("babel-runtime/helpers/class-call-check")["default"],i=t("babel-runtime/helpers/inherits")["default"],r=t("babel-runtime/helpers/get")["default"],s=t("babel-runtime/helpers/create-class")["default"],o=t("babel-runtime/core-js")["default"],u=t("../core/audio-time-engine"),a=function(t){function e(){var t=void 0===arguments[0]?{}:arguments[0];n(this,e),r(o.Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t.audioContext),this.buffer=t.buffer||null,this.periodAbs=t.periodAbs||.01,this.periodRel=t.periodRel||0,this.periodVar=t.periodVar||0,this.position=t.position||0,this.positionVar=t.positionVar||.003,this.durationAbs=t.durationAbs||.1,this.durationRel=t.durationRel||0,this.attackAbs=t.attackAbs||0,this.attackRel=t.attackRel||.5,this.attackShape=t.attackShape||"lin",this.releaseAbs=t.releaseAbs||0,this.releaseRel=t.releaseRel||.5,this.releaseShape=t.releaseShape||"lin",this.expRampOffset=t.expRampOffset||1e-4,this.resampling=t.resampling||0,this.resamplingVar=t.resamplingVar||0,this.gain=t.gain||1,this.centered=t.centered||!0,this.cyclic=t.cyclic||!1,this.wrapAroundExtension=t.wrapAroundExtension||0,this.outputNode=this.audioContext.createGain()}return i(e,t),s(e,{bufferDuration:{get:function(){var t=this.buffer.duration;return this.wrapAroundExtension&&(t-=this.wrapAroundExtension),t}},currentPosition:{get:function(){var t=this.master;return t&&void 0!==t.currentPosition?t.currentPosition:this.position}},advanceTime:{value:function(t){return t=Math.max(t,this.audioContext.currentTime),t+this.trigger(t)}},trigger:{value:function(t){var e=this.audioContext,n=t||e.currentTime,i=this.periodAbs,r=this.currentPosition,s=this.durationAbs;if(this.buffer){var o=1;if(0!==this.resampling||this.resamplingVar>0){var u=2*(Math.random()-.5)*this.resamplingVar;o=Math.pow(2,(this.resampling+u)/1200)}i+=this.periodRel*s,s+=this.durationRel*i,this.periodVar>0&&(i+=2*(Math.random()-.5)*this.periodVar*i),this.centered&&(r-=.5*s),this.positionVar>0&&(r+=(2*Math.random()-1)*this.positionVar);var a=this.bufferDuration;if(0>r||r>=a)if(this.cyclic){var c=r/a;r=(c-Math.floor(c))*a,r+s>this.buffer.duration&&(s=this.buffer.duration-r)}else 0>r&&(n-=r,s+=r,r=0),r+s>a&&(s=a-r);if(this.gain>0&&s>=.001){var l=e.createGain(),h=this.attackAbs+this.attackRel*s,f=this.releaseAbs+this.releaseRel*s;if(h+f>s){var _=s/(h+f);h*=_,f*=_}var d=n+h,p=n+s,m=p-f;l.gain.value=0,"lin"===this.attackShape?(l.gain.setValueAtTime(0,n),l.gain.linearRampToValueAtTime(this.gain,d)):(l.gain.setValueAtTime(this.expRampOffset,n),l.gain.exponentialRampToValueAtTime(this.gain,d)),m>d&&l.gain.setValueAtTime(this.gain,m),"lin"===this.releaseShape?l.gain.linearRampToValueAtTime(0,p):l.gain.exponentialRampToValueAtTime(this.expRampOffset,p),l.connect(this.outputNode);var g=e.createBufferSource();g.buffer=this.buffer,g.playbackRate.value=o,g.connect(l),g.start(n,r),g.stop(n+s/o)}}return i}}}),e}(u);e.exports=a},{"../core/audio-time-engine":4,"babel-runtime/core-js":17,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":20,"babel-runtime/helpers/inherits":21}],7:[function(t,e){"use strict";var n=t("babel-runtime/helpers/class-call-check")["default"],i=t("babel-runtime/helpers/inherits")["default"],r=t("babel-runtime/helpers/get")["default"],s=t("babel-runtime/helpers/create-class")["default"],o=t("babel-runtime/core-js")["default"],u=t("../core/audio-time-engine"),a=function(t){function e(){var t=void 0===arguments[0]?{}:arguments[0];n(this,e),r(o.Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t.audioContext),this.__period=t.period||1,this.clickFreq=t.clickFreq||600,this.clickAttack=t.clickAttack||.002,this.clickRelease=t.clickRelease||.098,this.__lastTime=0,this.__phase=0,this.__gainNode=this.audioContext.createGain(),this.__gainNode.gain.value=t.gain||1,this.outputNode=this.__gainNode}return i(e,t),s(e,{advanceTime:{value:function(t){return this.trigger(t),this.__lastTime=t,t+this.__period}},syncPosition:{value:function(t,e,n){if(this.__period>0){var i=(Math.floor(e/this.__period)+this.__phase)*this.__period;return n>0&&e>i?i+=this.__period:0>n&&i>e&&(i-=this.__period),i}return 1/0}},advancePosition:{value:function(t,e,n){return this.trigger(t),0>n?e-this.__period:e+this.__period}},trigger:{value:function(t){var e=this.audioContext,n=this.clickAttack,i=this.clickRelease,r=e.createGain();r.gain.value=0,r.gain.setValueAtTime(0,t),r.gain.linearRampToValueAtTime(1,t+n),r.gain.exponentialRampToValueAtTime(1e-7,t+n+i),r.gain.setValueAtTime(0,t),r.connect(this.outputNode);var s=e.createOscillator();s.frequency.value=this.clickFreq,s.start(t),s.stop(t+n+i),s.connect(r)}},gain:{set:function(t){this.__gainNode.gain.value=t},get:function(){return this.__gainNode.gain.value}},period:{set:function(t){this.__period=t;var e=this.master;e&&(e.resetEngineTime?e.resetEngineTime(this,this.__lastTime+t):e.resetEnginePosition&&this.resetEnginePosition(this))},get:function(){return this.__period}},phase:{set:function(t){this.__phase=t-Math.floor(t);var e=this.master;e&&void 0!==e.resetEnginePosition&&e.resetEnginePosition(this)},get:function(){return this.__phase}}}),e}(u);e.exports=a},{"../core/audio-time-engine":4,"babel-runtime/core-js":17,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":20,"babel-runtime/helpers/inherits":21}],8:[function(t,e){"use strict";var n=t("babel-runtime/helpers/class-call-check")["default"],i=t("babel-runtime/helpers/inherits")["default"],r=t("babel-runtime/helpers/get")["default"],s=t("babel-runtime/helpers/create-class")["default"],o=t("babel-runtime/core-js")["default"],u=t("../core/audio-time-engine"),a=function(t){function e(){var t=void 0===arguments[0]?{}:arguments[0];n(this,e),r(o.Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t.audioContext),this.transport=null,this.buffer=t.buffer||null,this.fadeTime=.005,this.__time=0,this.__position=0,this.__speed=0,this.__cyclic=!1,this.__bufferSource=null,this.__envNode=null,this.__playingSpeed=1,this.__gainNode=this.audioContext.createGain(),this.__gainNode.gain.value=t.gain||1,this.wrapAroundExtension=t.wrapAroundExtension||0,this.outputNode=this.__gainNode}return i(e,t),s(e,{__start:{value:function(t,e,n){var i=this.audioContext;if(this.buffer){var r=this.buffer.duration;if(this.wrapAroundExtension&&(r-=this.wrapAroundExtension),this.__cyclic&&(0>e||e>=r)){var s=e/r;e=(s-Math.floor(s))*r}e>=0&&r>e&&n>0&&(this.__envNode=i.createGain(),this.__envNode.gain.setValueAtTime(0,t),this.__envNode.gain.linearRampToValueAtTime(1,t+this.fadeTime),this.__envNode.connect(this.__gainNode),this.__bufferSource=i.createBufferSource(),this.__bufferSource.buffer=this.buffer,this.__bufferSource.playbackRate.value=n,this.__bufferSource.loop=this.__cyclic,this.__bufferSource.loopStart=0,this.__bufferSource.loopEnd=r,this.__bufferSource.start(t,e),this.__bufferSource.connect(this.__envNode))}}},__halt:{value:function(t){this.__bufferSource&&(this.__envNode.gain.cancelScheduledValues(t),this.__envNode.gain.setValueAtTime(this.__envNode.gain.value,t),this.__envNode.gain.linearRampToValueAtTime(0,t+this.fadeTime),this.__bufferSource.stop(t+this.fadeTime),this.__bufferSource=null,this.__envNode=null)}},syncSpeed:{value:function(t,e,n){var i=void 0===arguments[3]?!1:arguments[3],r=this.__speed;(n!==r||i)&&(i||0>r*n?(this.__halt(t),this.__start(t,e,n)):0===r||i?this.__start(t,e,n):0===n?this.__halt(t):this.__bufferSource&&this.__bufferSource.playbackRate.setValueAtTime(n,t),this.__speed=n)}},cyclic:{set:function(t){if(t!==this.__cyclic){var e=this.currentTime,n=this.currentosition;this.__halt(e),this.__cyclic=t,0!==this.__speed&&this.__start(e,n,this.__speed)}},get:function(){return this.__cyclic}},gain:{set:function(){var t=this.__sync();this.__gainNode.cancelScheduledValues(t),this.__gainNode.setValueAtTime(this.__gainNode.gain.value,t),this.__gainNode.linearRampToValueAtTime(0,t+this.fadeTime)},get:function(){return this.__gainNode.gain.value}}}),e}(u);e.exports=a},{"../core/audio-time-engine":4,"babel-runtime/core-js":17,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":20,"babel-runtime/helpers/inherits":21}],9:[function(t,e){"use strict";function n(t,e){var n=void 0===arguments[2]?0:arguments[2],i=t.length;if(i>0){var r=t[0],s=t[i-1];if(r>e)n=-1;else if(e>=s)n=i-1;else{for((0>n||n>=i)&&(n=Math.floor((i-1)*(e-r)/(s-r)));t[n]>e;)n--;for(;t[n+1]<=e;)n++}}return n}function i(t,e){var n=void 0===arguments[2]?0:arguments[2],i=t.length;if(i>0){var r=t[0],s=t[i-1];if(r>=e)n=0;else if(e>=s)n=i;else{for((0>n||n>=i)&&(n=Math.floor((i-1)*(e-r)/(s-r)));t[n]<e;)n++;for(;t[n+1]>=e;)n--}}return n}var r=t("babel-runtime/helpers/class-call-check")["default"],s=t("babel-runtime/helpers/inherits")["default"],o=t("babel-runtime/helpers/get")["default"],u=t("babel-runtime/helpers/create-class")["default"],a=t("babel-runtime/core-js")["default"],c=t("../core/audio-time-engine"),l=function(t){function e(){var t=void 0===arguments[0]?{}:arguments[0];r(this,e),o(a.Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t.audioContext),this.buffer=t.buffer||null,this.periodAbs=t.periodAbs||0,this.periodRel=t.periodRel||1,this.periodVar=t.periodVar||0,this.positionArray=t.positionArray||[0],this.positionVar=t.positionVar||0,this.durationArray=t.durationArray||[0],this.durationAbs=t.durationAbs||0,this.durationRel=t.durationRel||1,this.offsetArray=t.offsetArray||[0],this.offsetAbs=t.offsetAbs||-.005,this.offsetRel=t.offsetRel||0,this.delay=t.delay||.005,this.attackAbs=t.attackAbs||.005,this.attackRel=t.attackRel||0,this.releaseAbs=t.releaseAbs||.005,this.releaseRel=t.releaseRel||0,this.resampling=t.resampling||0,this.resamplingVar=t.resamplingVar||0,this.gain=t.gain||1,this.segmentIndex=t.segmentIndex||0,this.cyclic=t.cyclic||!1,this.__cyclicOffset=0,this.wrapAroundExtension=t.wrapAroundExtension||0,this.outputNode=this.audioContext.createGain()}return s(e,t),u(e,{bufferDuration:{get:function(){var t=this.buffer.duration;return this.wrapAroundExtension&&(t-=this.wrapAroundExtension),t}},advanceTime:{value:function(t){return t=Math.max(t,this.audioContext.currentTime),t+this.trigger(t)}},syncPosition:{value:function(t,e,r){var s=this.segmentIndex,o=0,u=this.bufferDuration;if(this.cyclic){var a=e/u;o=Math.floor(a)*u,e-=o}if(r>0){if(s=i(this.positionArray,e),s>=this.positionArray.length&&(s=0,o+=u,!this.cyclic))return 1/0}else{if(!(0>r))return 1/0;if(s=n(this.positionArray,e),0>s&&(s=this.positionArray.length-1,o-=u,!this.cyclic))return-(1/0)}return this.segmentIndex=s,this.__cyclicOffset=o,o+this.positionArray[s]}},advancePosition:{value:function(t,e,n){var i=this.segmentIndex,r=this.__cyclicOffset;if(this.trigger(t),n>0){if(i++,i>=this.positionArray.length&&(i=0,r+=this.bufferDuration,!this.cyclic))return 1/0}else if(i--,0>i&&(i=this.positionArray.length-1,r-=this.bufferDuration,!this.cyclic))return-(1/0);return this.segmentIndex=i,this.__cyclicOffset=r,r+this.positionArray[i]}},trigger:{value:function(t){var e=this.audioContext,n=(t||e.currentTime)+this.delay,i=this.periodAbs,r=this.segmentIndex;if(this.buffer){var s=0,o=0,u=0,a=1,c=this.bufferDuration;if(this.cyclic?r%=this.positionArray.length:r=Math.max(0,Math.min(r,this.positionArray.length-1)),this.positionArray&&(s=this.positionArray[r]||0),this.durationArray&&(o=this.durationArray[r]||0),this.offsetArray&&(u=this.offsetArray[r]||0),0!==this.resampling||this.resamplingVar>0){var l=2*(Math.random()-.5)*this.resamplingVar;a=Math.pow(2,(this.resampling+l)/1200)}if(0===o||this.periodRel>0){var h,f,_=r+1;_===this.positionArray.length?this.cyclic?(h=this.positionArray[0]+c,f=this.offsetArray[0]):(h=c,f=0):(h=this.positionArray[_],f=this.offsetArray[_]);var d=h-s;u>0&&(d-=u),f>0&&(d+=f),0>d&&(d=0),0===o&&(o=d),i+=this.periodRel*d}if(o*=this.durationRel,o+=this.durationAbs,u*=this.offsetRel,u+=this.offsetAbs,0>u?(o-=u,s+=u,n+=u/a):n-=u/a,this.positionVar>0&&(s+=2*(Math.random()-.5)*this.positionVar),0>s&&(o+=s,s=0),s+o>this.buffer.duration&&(o=this.buffer.duration-s),this.gain>0&&o>0){var p=e.createGain(),m=this.attackAbs+this.attackRel*o,g=this.releaseAbs+this.releaseRel*o;if(m+g>o){var v=o/(m+g);m*=v,g*=v}var b=n+m,y=n+o,P=y-g;p.gain.setValueAtTime(0,n),p.gain.linearRampToValueAtTime(this.gain,b),P>b&&p.gain.setValueAtTime(this.gain,P),p.gain.linearRampToValueAtTime(0,y),p.connect(this.outputNode);var T=e.createBufferSource();T.buffer=this.buffer,T.playbackRate.value=a,T.connect(p),T.start(n,s),T.stop(n+o/a)}}return i}}}),e}(c);e.exports=l},{"../core/audio-time-engine":4,"babel-runtime/core-js":17,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":20,"babel-runtime/helpers/inherits":21}],10:[function(t,e){"use strict";var n=t("babel-runtime/core-js")["default"],i=t("../core/audio-context"),r=t("./scheduler"),s=t("./simple-scheduler"),o=new n.WeakMap,u=new n.WeakMap;e.exports.getScheduler=function(){var t=void 0===arguments[0]?i:arguments[0],e=o.get(t);return e||(e=new r({audioContext:t}),o.set(t,e)),e},e.exports.getSimpleScheduler=function(){var t=void 0===arguments[0]?i:arguments[0],e=u.get(t);return e||(e=new s({audioContext:t}),u.set(t,e)),e}},{"../core/audio-context":3,"./scheduler":12,"./simple-scheduler":13,"babel-runtime/core-js":17}],11:[function(t,e){"use strict";var n=t("babel-runtime/helpers/class-call-check")["default"],i=t("babel-runtime/helpers/inherits")["default"],r=t("babel-runtime/helpers/get")["default"],s=t("babel-runtime/helpers/create-class")["default"],o=t("babel-runtime/core-js")["default"],u=(t("../core/audio-context"),t("../core/time-engine")),a=t("../utils/scheduling-queue"),c=t("./factories").getScheduler,l=function(t){function e(t){n(this,e),r(o.Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.__playControl=t,this.lower=-(1/0),this.upper=1/0}return i(e,t),s(e,{advanceTime:{value:function(t){var e=this.__playControl,n=e.speed,i=this.lower,r=this.upper;return n>0?(e.syncSpeed(t,i,n,!0),e.__getTimeAtPosition(r)):0>n?(e.syncSpeed(t,r,n,!0),e.__getTimeAtPosition(i)):1/0}},reschedule:{value:function(t){var e=this.__playControl,n=Math.min(e.__loopStart,e.__loopEnd),i=Math.max(e.__loopStart,e.__loopEnd);this.speed=t,this.lower=n,this.upper=i,n===i&&(t=0),this.resetTime(t>0?e.__getTimeAtPosition(i-1e-6):0>t?e.__getTimeAtPosition(n+1e-6):1/0)}},applyLoopBoundaries:{value:function(t,e){var n=this.lower,i=this.upper;return e>0&&t>=i?n+(t-n)%(i-n):0>e&&n>t?i-(i-t)%(i-n):t}}}),e}(u),h=function(){function t(e,i){n(this,t),this.__playControl=e,this.__engine=i,i.master=this}return s(t,{syncSpeed:{value:function(t,e,n,i){this.__engine.syncSpeed(t,e,n,i)}},currentTime:{get:function(){return this.__playControl.currentTime}},currentPosition:{get:function(){return this.__playControl.currentPosition}},destroy:{value:function(){this.__engine.master=null,this.__playControl=null,this.__engine=null}}}),t}(),f=function(t){function e(t,i){n(this,e),r(o.Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i)}return i(e,t),e}(h),_=function(t){function e(t,i){n(this,e),r(o.Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.__playControl=t,this.__engine=i,this.__nextPosition=1/0,t.__scheduler.add(this,1/0)}return i(e,t),s(e,{advanceTime:{value:function(t){for(var e=this.__playControl,n=this.__engine,i=this.__nextPosition,r=n.advancePosition(t,i,e.__speed),s=e.__getTimeAtPosition(r);s===t;)r=n.advancePosition(t,i,e.__speed),s=e.__getTimeAtPosition(r);return this.__nextPosition=r,s}},resetPosition:{value:function(){var t=void 0===arguments[0]?this.__nextPosition:arguments[0],e=this.__transport,n=e.__getTimeAtPosition(t);this.__nextPosition=t,this.resetTime(n)}},destroy:{value:function(){this.__playControl.__scheduler.remove(this),this.__playControl=null,this.__engine=null}}}),e}(u),d=function(t){function e(t,i){n(this,e),r(o.Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i),this.__schedulerHook=new _(t,i)}return i(e,t),s(e,{__syncTransportedPosition:{value:function(t,e,n){var i=this.__transported.length,r=1/0;if(i>0){var s,o;this.__transportedQueue.destroy(),this.__transportedQueue.reverse=0>n;for(var u=i-1;u>0;u--)s=this.__transported[u],o=s.syncPosition(t,e,n),this.__transportedQueue.insert(s,o,!1);s=this.__transported[0],o=s.syncPosition(t,e,n),r=this.__transportedQueue.insert(s,o,!0)}return r}},syncSpeed:{value:function(t,e,n,i,r){var s=this.__nextPosition;i?s=this.__engine.syncPosition(t,e,n):0===r?s=this.__engine.syncPosition(t,e,n):0===n?(s=1/0,this.__engine.syncSpeed&&this.__engine.syncSpeed(t,e,0)):0>n*r?s=this.__engine.syncPosition(t,e,n):this.__engine.syncSpeed&&this.__engine.syncSpeed(t,e,n);var o=this.__playControl.__getTimeAtPosition(s);this.__schedulerHook.resetTime(o),this.__nextPosition=s}},resetEnginePosition:{value:function(t,e){this.__schedulerHook.resetPosition(e)}},destroy:{value:function(){this.__schedulerHook.destroy(),this.__schedulerHook=null,r(o.Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}}),e}(h),p=function(t){function e(t,i){n(this,e),r(o.Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.__playControl=t,this.__engine=i,this.add(i,1/0),t.scheduler.add(this,1/0)}return i(e,t),s(e,{currentTime:{get:function(){this.__playControl.currentTime()}},currentPosition:{get:function(){this.__playControl.currentPosition()}},destroy:{value:function(){this.__playControl.scheduler.remove(this),this.remove(this.__engine),this.__playControl=null,this.__engine=null}}}),e}(a),m=function(t){function e(t,i){n(this,e),r(o.Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i),this.__schedulingQueue=new p(t,i)}return i(e,t),s(e,{syncSpeed:{value:function(t,e,n,i,r){0===r?this.__engine.resetTime(0):0===n&&this.__engine.resetTime(1/0)}},destroy:{value:function(){this.__schedulingQueue.destroy(),r(o.Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}}),e}(h),g=function(t){function e(t){if(n(this,e),r(o.Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.__scheduler=c(t.audioContext),this.__loopControl=null,this.__loopStart=0,this.__loopEnd=1/0,this.__time=0,this.__position=0,this.__speed=0,this.__playingSpeed=1,t.master)throw new Error("object has already been added to a master");if(t.implementsSpeedControlled())this.__playControlled=new f(this,t);else if(t.implementsTransported())this.__playControlled=new d(this,t);else{if(!t.implementsScheduled())throw new Error("object cannot be added to play control");this.__playControlled=new m(this,t)}}return i(e,t),s(e,{__getTimeAtPosition:{value:function(t){return this.__time+(t-this.__position)/this.__speed}},__getPositionAtTime:{value:function(t){return this.__position+(t-this.__time)*this.__speed}},__sync:{value:function(){var t=this.currentTime;return this.__position+=(t-this.__time)*this.__speed,this.__time=t,t}},currentTime:{get:function(){return this.__scheduler.currentTime}},currentPosition:{get:function(){return this.__position+(this.__scheduler.currentTime-this.__time)*this.__speed}},loop:{set:function(t){t&&this.__loopStart>-(1/0)&&this.__loopEnd<1/0?(this.__loopControl||(this.__loopControl=new l(this),this.__scheduler.add(this.__loopControl,1/0)),0!==this.__speed&&this.__loopControl.reschedule(this.__speed)):this.__loopControl&&(this.__scheduler.remove(this.__loopControl),this.__loopControl=null)},get:function(){return!!this.__loopControl}},setLoopBoundaries:{value:function(t,e){this.__loopStart=t,this.__loopEnd=e,this.loop=this.loop}},loopStart:{set:function(t){this.setLoopBoundaries(t,this.__loopEnd)},get:function(){return this.__loopStart}},loopEnd:{set:function(t){this.setLoopBoundaries(this.__loopStart,t)},get:function(){return this.__loopEnd}},syncSpeed:{value:function(t,e,n){var i=void 0===arguments[3]?!1:arguments[3],r=this.__speed;(n!==r||i)&&((i||0===r)&&this.__loopControl&&(e=this.__loopControl.applyLoopBoundaries(e,n)),this.__time=t,this.__position=e,this.__speed=n,this.__playControlled.syncSpeed(t,e,n,i,r),this.__loopControl&&this.__loopControl.reschedule(n))}},start:{value:function(){var t=this.__sync();this.syncSpeed(t,this.__position,this.__playingSpeed)}},pause:{value:function(){var t=this.__sync();this.syncSpeed(t,this.__position,0)}},stop:{value:function(){var t=this.__sync();this.syncSpeed(t,this.__position,0),this.seek(0)}},speed:{set:function(t){var e=this.__sync();t>=0?.01>t?t=.01:t>100&&(t=100):-100>t?t=-100:t>-.01&&(t=-.01),this.__playingSpeed=t,0!==this.__speed&&this.syncSpeed(e,this.__position,t)},get:function(){return this.__playingSpeed}},seek:{value:function(t){if(t!==this.__position){var e=this.__sync();this.__position=t,this.syncSpeed(e,t,this.__speed,!0)}}},clear:{value:function(){var t=this.__sync();this.syncSpeed(t,this.__position,0),this.__playControlled.destroy(),this.__playControlled=null}}}),e}(u);e.exports=g},{"../core/audio-context":3,"../core/time-engine":5,"../utils/scheduling-queue":16,"./factories":10,"babel-runtime/core-js":17,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":20,"babel-runtime/helpers/inherits":21}],12:[function(t,e){"use strict";var n=t("babel-runtime/helpers/class-call-check")["default"],i=t("babel-runtime/helpers/inherits")["default"],r=t("babel-runtime/helpers/get")["default"],s=t("babel-runtime/helpers/create-class")["default"],o=t("babel-runtime/core-js")["default"],u=t("../core/audio-context"),a=(t("../core/time-engine"),t("../utils/priority-queue"),t("../utils/scheduling-queue")),c=function(t){function e(){var t=void 0===arguments[0]?{}:arguments[0];n(this,e),r(o.Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.audioContext=t.audioContext||u,this.__currentTime=null,this.__nextTime=1/0,this.__timeout=null,this.period=t.period||.025,this.lookahead=t.lookahead||.1}return i(e,t),s(e,{__tick:{value:function(){var t=this.audioContext,e=this.__nextTime;for(this.__timeout=null;e<=t.currentTime+this.lookahead;)this.__currentTime=e,e=this.advanceTime(e);this.__currentTime=null,this.resetTime(e)}},resetTime:{value:function(){var t=this,e=void 0===arguments[0]?this.currentTime:arguments[0];if(this.master)this.master.reset(this,e);else{if(this.__timeout&&(clearTimeout(this.__timeout),this.__timeout=null),e!==1/0){this.__nextTime===1/0&&console.log("Scheduler Start");var n=Math.max(e-this.audioContext.currentTime-this.lookahead,this.period);this.__timeout=setTimeout(function(){t.__tick()},1e3*n)}else this.__nextTime!==1/0&&console.log("Scheduler Stop");this.__nextTime=e}}},currentTime:{get:function(){return this.master?this.master.currentTime:this.__currentTime||this.audioContext.currentTime+this.lookahead}},currentPosition:{get:function(){var t=this.master;return t&&void 0!==t.currentPosition?t.currentPosition:void 0}},add:{value:function(t){var n,i=void 0===arguments[1]?this.currentTime:arguments[1];if(t instanceof Function)n={advanceTime:t};else{if(n=t,!n.implementsScheduled())throw new Error("object cannot be added to scheduler");if(n.master)throw new Error("object has already been added to a master")}r(o.Object.getPrototypeOf(e.prototype),"add",this).call(this,n,i)}},remove:{value:function(t){if(t.master!==this)throw new Error("object has not been added to this scheduler");r(o.Object.getPrototypeOf(e.prototype),"remove",this).call(this,t)}},resetEngineTime:{value:function(t){var n=void 0===arguments[1]?this.currentTime:arguments[1];if(t.master!==this)throw new Error("object has not been added to this scheduler");r(o.Object.getPrototypeOf(e.prototype),"resetEngineTime",this).call(this,t,n)}}}),e}(a);e.exports=c},{"../core/audio-context":3,"../core/time-engine":5,"../utils/priority-queue":15,"../utils/scheduling-queue":16,"babel-runtime/core-js":17,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":20,"babel-runtime/helpers/inherits":21}],13:[function(t,e){"use strict";function n(t,e){var n=t.indexOf(e);return n>=0?(t.splice(n,1),!0):!1}var i=t("babel-runtime/helpers/class-call-check")["default"],r=t("babel-runtime/helpers/create-class")["default"],s=t("../core/audio-context"),o=(t("../core/time-engine"),function(){function t(){var e=void 0===arguments[0]?{}:arguments[0];i(this,t),this.audioContext=e.audioContext||s,this.__engines=[],this.__schedEngines=[],this.__schedTimes=[],this.__currentTime=null,this.__timeout=null,this.period=e.period||.025,this.lookahead=e.lookahead||.1}return r(t,{__scheduleEngine:{value:function(t,e){this.__schedEngines.push(t),this.__schedTimes.push(e)}},__rescheduleEngine:{value:function(t,e){var n=this.__schedEngines.indexOf(t);n>=0&&(e!==1/0?this.__schedTimes[n]=e:(this.__schedEngines.splice(n,1),this.__schedTimes.splice(n,1)))}},__unscheduleEngine:{value:function(t){var e=this.__schedEngines.indexOf(t);e>=0&&(this.__schedEngines.splice(e,1),this.__schedTimes.splice(e,1))}},__resetTick:{value:function(){this.__schedEngines.length>0?this.__timeout||(console.log("SimpleScheduler Start"),this.__tick()):this.__timeout&&(console.log("SimpleScheduler Stop"),clearTimeout(this.__timeout),this.__timeout=null)}},__tick:{value:function(){for(var t=this,e=this.audioContext,i=0;i<this.__schedEngines.length;){for(var r=this.__schedEngines[i],s=this.__schedTimes[i];s&&s<=e.currentTime+this.lookahead;)s=Math.max(s,e.currentTime),
this.__currentTime=s,s=r.advanceTime(s);s&&1/0>s?this.__schedTimes[i++]=s:(this.__unscheduleEngine(r),s||(r.master=null,n(this.__engines,r)))}this.__currentTime=null,this.__timeout=null,this.__schedEngines.length>0&&(this.__timeout=setTimeout(function(){t.__tick()},1e3*this.period))}},currentTime:{get:function(){return this.__currentTime||this.audioContext.currentTime+this.lookahead}},currentPosition:{get:function(){return void 0}},add:{value:function(t){var e=void 0===arguments[1]?this.currentTime:arguments[1],n=(void 0===arguments[2]?null:arguments[2],t);if(t instanceof Function)n={advanceTime:t};else{if(!t.implementsScheduled())throw new Error("object cannot be added to scheduler");if(t.master)throw new Error("object has already been added to a master")}return n.master=this,this.__engines.push(n),this.__scheduleEngine(n,e),this.__resetTick(),n}},remove:{value:function(t){if(!t.master||t.master!==this)throw new Error("engine has not been added to this scheduler");t.master=null,n(this.__engines,t),this.__unscheduleEngine(t),this.__resetTick()}},resetEngineTime:{value:function(t){var e=void 0===arguments[1]?this.currentTime:arguments[1];this.__rescheduleEngine(t,e),this.__resetTick()}},clear:{value:function(){this.__timeout&&(clearTimeout(this.__timeout),this.__timeout=null),this.__schedEngines.length=0,this.__schedTimes.length=0}}}),t}());e.exports=o},{"../core/audio-context":3,"../core/time-engine":5,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19}],14:[function(t,e){"use strict";function n(t,e,n,i){t.push(n),e.push(i)}function i(t,e,n){var i=t.indexOf(n);if(i>=0){var r=e[i];return t.splice(i,1),e.splice(i,1),r}return null}var r=t("babel-runtime/helpers/class-call-check")["default"],s=t("babel-runtime/helpers/inherits")["default"],o=t("babel-runtime/helpers/create-class")["default"],u=t("babel-runtime/helpers/get")["default"],a=t("babel-runtime/core-js")["default"],c=t("../core/audio-context"),l=t("../core/time-engine"),h=t("../utils/priority-queue"),f=t("../utils/scheduling-queue"),_=t("./factories").getScheduler,d=function(t){function e(t,n,i,s,o){r(this,e),this.master=t,n.master=this,this.__engine=n,this.__startPosition=i,this.__endPosition=s,this.__offsetPosition=o,this.__scalePosition=1,this.__haltPosition=1/0}return s(e,t),o(e,{setBoundaries:{value:function(t,e){var n=this,i=void 0===arguments[2]?t:arguments[2],r=void 0===arguments[3]?1:arguments[3];return function(){n.__startPosition=t,n.__endPosition=e,n.__offsetPosition=i,n.__scalePosition=r,n.resetPosition()}()}},start:{value:function(){}},stop:{value:function(){}},currentTime:{get:function(){return this.master.currentTime}},currentPosition:{get:function(){return this.master.currentPosition-this.__offsetPosition}},resetPosition:{value:function(t){void 0!==t&&(t+=this.__offsetPosition),this.master.resetEnginePosition(this,t)}},syncPosition:{value:function(t,e,n){if(n>0){if(e<this.__startPosition)return null===this.__haltPosition&&this.stop(t,e-this.__offsetPosition),this.__haltPosition=this.__endPosition,this.__startPosition;if(e<=this.__endPosition)return this.start(t,e-this.__offsetPosition,n),this.__haltPosition=null,this.__endPosition}else{if(e>=this.__endPosition)return null===this.__haltPosition&&this.stop(t,e-this.__offsetPosition),this.__haltPosition=this.__startPosition,this.__endPosition;if(e>this.__startPosition)return this.start(t,e-this.__offsetPosition,n),this.__haltPosition=null,this.__startPosition}return null===this.__haltPosition&&this.stop(t,e),this.__haltPosition=1/0,1/0}},advancePosition:{value:function(t,e,n){var i=this.__haltPosition;return null!==i?(this.start(t,e-this.__offsetPosition,n),this.__haltPosition=null,i):(null===this.__haltPosition&&this.stop(t,e-this.__offsetPosition),this.__haltPosition=1/0,1/0)}},syncSpeed:{value:function(t,e,n){0===n&&this.stop(t,e-this.__offsetPosition)}},destroy:{value:function(){this.master=null,this.__engine.master=null,this.__engine=null}}}),e}(l),p=function(t){function e(t,n,i,s,o){r(this,e),u(a.Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n,i,s,o)}return s(e,t),o(e,{syncPosition:{value:function(t,e,n){return n>0&&e<this.__endPosition?e=Math.max(e,this.__startPosition):0>n&&e>=this.__startPosition&&(e=Math.min(e,this.__endPosition)),this.__offsetPosition+this.__engine.syncPosition(t,e-this.__offsetPosition,n)}},advancePosition:{value:function(t,e,n){return e=this.__offsetPosition+this.__engine.advancePosition(t,e-this.__offsetPosition,n),n>0&&e<this.__endPosition||0>n&&e>=this.__startPosition?e:1/0}},syncSpeed:{value:function(t,e,n){this.__engine.syncSpeed&&this.__engine.syncSpeed(t,e,n)}},resetEnginePosition:{value:function(t,e){void 0!==e&&(e+=this.__offsetPosition),this.resetPosition(e)}}}),e}(d),m=function(t){function e(t,n,i,s,o){r(this,e),u(a.Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n,i,s,o)}return s(e,t),o(e,{start:{value:function(t,e,n){this.__engine.syncSpeed(t,e,n,!0)}},stop:{value:function(t,e){this.__engine.syncSpeed(t,e,0)}},syncSpeed:{value:function(t,e,n){null===this.__haltPosition&&this.__engine.syncSpeed(t,e,n)}},destroy:{value:function(){this.__engine.syncSpeed(this.__transport.currentTime,this.__transport.currentPosition-this.__offsetPosition,0),u(a.Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}}),e}(d),g=function(t){function e(t,n,i,s,o){r(this,e),u(a.Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n,i,s,o),this.__transport.__schedulingQueue.add(n,1/0)}return s(e,t),o(e,{start:{value:function(t){this.__transport.__schedulingQueue.resetEngineTime(this.__engine,t)}},stop:{value:function(){this.__transport.__schedulingQueue.resetEngineTime(this.__engine,1/0)}},destroy:{value:function(){this.__transport.__schedulingQueue.remove(this.__engine),u(a.Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}}),e}(d),v=function(t){function e(t){r(this,e),u(a.Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.__transport=t,this.__nextPosition=1/0,this.__nextTime=1/0,t.__scheduler.add(this,1/0)}return s(e,t),o(e,{advanceTime:{value:function(t){for(var e=this.__transport,n=this.__nextPosition,i=e.__speed,r=e.advancePosition(t,n,i),s=e.__getTimeAtPosition(r);s===t;)r=e.advancePosition(s,r,i),s=e.__getTimeAtPosition(r);return this.__nextPosition=r,this.__nextTime=s,s}},resetPosition:{value:function(){var t=void 0===arguments[0]?this.__nextPosition:arguments[0],e=this.__transport,n=e.__getTimeAtPosition(t);this.__nextPosition=t,this.__nextTime=n,this.resetTime(n)}},destroy:{value:function(){this.__transport.__scheduler.remove(this),this.__transport=null}}}),e}(l),b=function(t){function e(t){r(this,e),u(a.Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.__transport=t,t.__scheduler.add(this,1/0)}return s(e,t),o(e,{currentTime:{get:function(){this.__transport.currentTime()}},currentPosition:{get:function(){this.__transport.currentPosition()}},destroy:{value:function(){this.__transport.__scheduler.remove(this),this.__transport=null}}}),e}(f),y=function(t){function e(){var t=void 0===arguments[0]?{}:arguments[0];r(this,e),u(a.Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.audioContext=t.audioContext||c,this.__engines=[],this.__transported=[],this.__scheduler=_(this.audioContext),this.__schedulerHook=null,this.__transportedQueue=new h,this.__schedulingQueue=null,this.__time=0,this.__position=0,this.__speed=0}return s(e,t),o(e,{__getTimeAtPosition:{value:function(t){return this.__time+(t-this.__position)/this.__speed}},__getPositionAtTime:{value:function(t){return this.__position+(t-this.__time)*this.__speed}},__syncTransportedPosition:{value:function(t,e,n){var i=this.__transported.length,r=1/0;if(i>0){var s,o;this.__transportedQueue.clear(),this.__transportedQueue.reverse=0>n;for(var u=i-1;u>0;u--)s=this.__transported[u],o=s.syncPosition(t,e,n),this.__transportedQueue.insert(s,o,!1);s=this.__transported[0],o=s.syncPosition(t,e,n),r=this.__transportedQueue.insert(s,o,!0)}return r}},__syncTransportedSpeed:{value:function(t,e,n){var i=!0,r=!1,s=void 0;try{for(var o,u=a.$for.getIterator(this.__transported);!(i=(o=u.next()).done);i=!0){var c=o.value;c.syncSpeed(t,e,n)}}catch(l){r=!0,s=l}finally{try{!i&&u["return"]&&u["return"]()}finally{if(r)throw s}}}},currentTime:{get:function(){return this.__scheduler.currentTime}},currentPosition:{get:function(){var t=this.master;return t&&void 0!==t.currentPosition?t.currentPosition:this.__position+(this.__scheduler.currentTime-this.__time)*this.__speed}},resetPosition:{value:function(t){var e=this.master;e&&void 0!==e.resetEnginePosition?e.resetEnginePosition(this,t):this.__schedulerHook&&this.__schedulerHook.resetPosition(t)}},syncPosition:{value:function(t,e,n){return this.__time=t,this.__position=e,this.__speed=n,this.__syncTransportedPosition(t,e,n)}},advancePosition:{value:function(t,e,n){for(var i=this.__transportedQueue.time;i===e;){var r=this.__transportedQueue.head,s=r.advancePosition(t,e,n);i=(n>0&&s>e||0>n&&e>s)&&1/0>s&&s>-(1/0)?this.__transportedQueue.move(r,s):this.__transportedQueue.remove(r)}return i}},syncSpeed:{value:function(t,e,n){var i=void 0===arguments[3]?!1:arguments[3],r=this.__speed;if(this.__time=t,this.__position=e,this.__speed=n,n!==r||i&&0!==n){var s;i||0>n*r?s=this.__syncTransportedPosition(t,e,n):0===r?(this.__schedulerHook=new v(this),this.__schedulingQueue=new b(this),s=this.__syncTransportedPosition(t,e,n)):0===n?(s=1/0,this.__schedulerHook.destroy(),this.__schedulingQueue.destroy(),this.__schedulerHook=null,this.__schedulingQueue=null,this.__syncTransportedSpeed(t,e,0)):this.__syncTransportedSpeed(t,e,n),this.resetPosition(s)}}},add:{value:function(t){var e=this,i=void 0===arguments[1]?-(1/0):arguments[1],r=void 0===arguments[2]?1/0:arguments[2],s=void 0===arguments[3]?i:arguments[3];return function(){var o=null;if(s===-(1/0)&&(s=0),t.master)throw new Error("object has already been added to a master");if(t.implementsTransported())o=new p(e,t,i,r,s);else if(t.implementsSpeedControlled())o=new m(e,t,i,r,s);else{if(!t.implementsScheduled())throw new Error("object cannot be added to a transport");o=new g(e,t,i,r,s)}if(o){var u=e.__speed;if(n(e.__engines,e.__transported,t,o),0!==u){var a=o.syncPosition(e.currentTime,e.currentPosition,u),c=e.__transportedQueue.insert(o,a);e.resetPosition(c)}}return o}()}},remove:{value:function(t){var e=t,n=i(this.__engines,this.__transported,t);if(n||(e=i(this.__transported,this.__engines,t),n=t),!e||!n)throw new Error("object has not been added to this transport");var r=this.__transportedQueue.remove(n);n.destroy(),0!==this.__speed&&this.resetPosition(r)}},resetEnginePosition:{value:function(t){var e=void 0===arguments[1]?void 0:arguments[1],n=this.__speed;if(0!==n){void 0===e&&(e=t.syncPosition(this.currentTime,this.currentPosition,n));var i=this.__transportedQueue.move(t,e);this.resetPosition(i)}}},clear:{value:function(){this.syncSpeed(this.currentTime,this.currentPosition,0);var t=!0,e=!1,n=void 0;try{for(var i,r=a.$for.getIterator(this.__transported);!(t=(i=r.next()).done);t=!0){var s=i.value;s.destroy()}}catch(o){e=!0,n=o}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw n}}}}}),e}(l);e.exports=y},{"../core/audio-context":3,"../core/time-engine":5,"../utils/priority-queue":15,"../utils/scheduling-queue":16,"./factories":10,"babel-runtime/core-js":17,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":20,"babel-runtime/helpers/inherits":21}],15:[function(t,e){"use strict";var n=t("babel-runtime/helpers/class-call-check")["default"],i=t("babel-runtime/helpers/create-class")["default"],r=function(){function t(){n(this,t),this.__objects=[],this.reverse=!1}return i(t,{__objectIndex:{value:function(t){for(var e=0;e<this.__objects.length;e++)if(t===this.__objects[e][0])return e;return-1}},__removeObject:{value:function(t){var e=this.__objectIndex(t);return e>=0&&this.__objects.splice(e,1),this.__objects.length>0?this.__objects[0][1]:1/0}},__sortObjects:{value:function(){this.__objects.sort(this.reverse?function(t,e){return e[1]-t[1]}:function(t,e){return t[1]-e[1]})}},insert:{value:function(t,e){var n=void 0===arguments[2]?!0:arguments[2];return e!==1/0&&e!=-(1/0)?(this.__objects.push([t,e]),n&&this.__sortObjects(),this.__objects[0][1]):this.__removeObject(t)}},move:{value:function(t,e){if(e!==1/0&&e!=-(1/0)){var n=this.__objectIndex(t);return 0>n?this.__objects.push([t,e]):this.__objects[n][1]=e,this.__sortObjects(),this.__objects[0][1]}return this.__removeObject(t)}},remove:{value:function(t){return this.__removeObject(t)}},clear:{value:function(){return this.__objects.length=0,1/0}},head:{get:function(){return this.__objects.length>0?this.__objects[0][0]:null}},time:{get:function(){return this.__objects.length>0?this.__objects[0][1]:1/0}}}),t}();e.exports=r},{"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19}],16:[function(t,e){"use strict";function n(t,e){var n=t.indexOf(e);return n>=0?(t.splice(n,1),!0):!1}var i=t("babel-runtime/helpers/class-call-check")["default"],r=t("babel-runtime/helpers/inherits")["default"],s=t("babel-runtime/helpers/get")["default"],o=t("babel-runtime/helpers/create-class")["default"],u=t("babel-runtime/core-js")["default"],a=t("../utils/priority-queue"),c=t("../core/time-engine"),l=(t("../core/audio-context"),function(t){function e(){i(this,e),s(u.Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.__queue=new a,this.__engines=[]}return r(e,t),o(e,{advanceTime:{value:function(t){for(var e=this.__queue.time;e===t;){var i=this.__queue.head,r=i.advanceTime(t);r?e=r>t&&1/0>r?this.__queue.move(i,r):this.__queue.remove(i):(i.master=null,n(this.__engines,i),e=this.__queue.remove(i))}return e}},currentTime:{get:function(){return 0}},add:{value:function(t,e){t.master=this,this.__engines.push(t);var n=this.__queue.insert(t,e);this.resetTime(n)}},remove:{value:function(t){t.master=null,n(this.__engines,t);var e=this.__queue.remove(t);this.resetTime(e)}},resetEngineTime:{value:function(t,e){var n=this.__queue.move(t,e);this.resetTime(n)}},clear:{value:function(){this.__queue.clear(),this.__engines.length=0,this.resetTime(1/0)}}}),e}(c));e.exports=l},{"../core/audio-context":3,"../core/time-engine":5,"../utils/priority-queue":15,"babel-runtime/core-js":17,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":20,"babel-runtime/helpers/inherits":21}],17:[function(t,e){!function(t,n,i){"use strict";function r(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function s(t){return"function"==typeof t}function o(t,e,n){t&&!ve(t=n?t:t[bt],Qe)&&Ve(t,Qe,e)}function u(t){return oe.call(t).slice(8,-1)}function a(t){var e,n;return t==i?t===i?"Undefined":"Null":"string"==typeof(n=(e=jt(t))[Qe])?n:u(e)}function c(){for(var t=j(this),e=arguments.length,n=Nt(e),i=0,r=Le._,s=!1;e>i;)(n[i]=arguments[i++])===r&&(s=!0);return function(){var i,o=this,u=arguments.length,a=0,c=0;if(!s&&!u)return h(t,n,o);if(i=n.slice(),s)for(;e>a;a++)i[a]===r&&(i[a]=arguments[c++]);for(;u>c;)i.push(arguments[c++]);return h(t,i,o)}}function l(t,e,n){if(j(t),~n&&e===i)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}function h(t,e,n){var r=n===i;switch(0|e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3]);case 5:return r?t(e[0],e[1],e[2],e[3],e[4]):t.call(n,e[0],e[1],e[2],e[3],e[4])}return t.apply(n,e)}function f(t){return be(E(t))}function _(t){return t}function d(){return this}function p(t,e){return ve(t,e)?t[e]:void 0}function m(t){return N(t),me?pe(t).concat(me(t)):pe(t)}function g(t,e){for(var n,i=f(t),r=de(i),s=r.length,o=0;s>o;)if(i[n=r[o++]]===e)return n}function v(t){return Rt(t).split(",")}function b(t){var e=1==t,n=2==t,r=3==t,s=4==t,o=6==t,u=5==t||o;return function(a){for(var c,h,f=jt(E(this)),_=arguments[1],d=be(f),p=l(a,_,3),m=w(d.length),g=0,v=e?Nt(m):n?[]:i;m>g;g++)if((u||g in d)&&(c=d[g],h=p(c,g,f),t))if(e)v[g]=h;else if(h)switch(t){case 3:return!0;case 5:return c;case 6:return g;case 2:v.push(c)}else if(s)return!1;return o?-1:r||s?s:v}}function y(t){return function(e){var n=f(this),i=w(n.length),r=A(arguments[1],i);if(t&&e!=e){for(;i>r;r++)if(T(n[r]))return t||r}else for(;i>r;r++)if((t||r in n)&&n[r]===e)return t||r;return!t&&-1}}function P(t,e){return"function"==typeof t?t:e}function T(t){return t!=t}function x(t){return isNaN(t)?0:je(t)}function w(t){return t>0?Oe(x(t),xe):0}function A(t,e){var t=x(t);return 0>t?Ce(t+e,0):Oe(t,e)}function S(t){return t>9?t:"0"+t}function k(t,e,n){var i=r(e)?function(t){return e[t]}:e;return function(e){return Rt(n?e:this).replace(t,i)}}function C(t){return function(e){var n,r,s=Rt(E(this)),o=x(e),u=s.length;return 0>o||o>=u?t?"":i:(n=s.charCodeAt(o),55296>n||n>56319||o+1===u||(r=s.charCodeAt(o+1))<56320||r>57343?t?s.charAt(o):n:t?s.slice(o,o+2):(n-55296<<10)+(r-56320)+65536)}}function O(t,e,n){if(!t)throw Gt(n?e+n:e)}function E(t){if(t==i)throw Gt("Function called on null or undefined");return t}function j(t){return O(s(t),t," is not a function!"),t}function N(t){return O(r(t),t," is not an object!"),t}function R(t,e,n){O(t instanceof e,n,": use the 'new' operator!")}function M(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function V(t,e,n){return t[e]=n,t}function q(t){return Re?function(e,n,i){return fe(e,n,M(t,i))}:V}function D(t){return pt+"("+t+")_"+(++Me+Ee())[Pt](36)}function I(t,e){return Ft&&Ft[t]||(e?Ft:De)(pt+re+t)}function F(t,e){for(var n in e)Ve(t,n,e[n]);return t}function Q(t){!Re||!n&&se(t)||fe(t,Ge,{configurable:!0,get:d})}function G(e,i,r){var o,u,a,c,h=e&$e,f=h?t:e&Je?t[i]:(t[i]||ee)[bt],_=h?Be:Be[i]||(Be[i]={});h&&(r=i);for(o in r)u=!(e&ze)&&f&&o in f&&(!s(f[o])||se(f[o])),a=(u?f:r)[o],n||!h||s(f[o])?e&Ye&&u?c=l(a,t):e&Ke&&!n&&f[o]==a?(c=function(t){return this instanceof a?new a(t):a(t)},c[bt]=a[bt]):c=e&Ue&&s(a)?l(ue,a):a:c=r[o],n&&f&&!u&&(h?f[o]=a:delete f[o]&&Ve(f,o,a)),_[o]!=a&&Ve(_,o,c)}function W(t,e){Ve(t,nt,e),kt in te&&Ve(t,kt,e)}function B(t,e,n,i){t[bt]=ce(i||nn,{next:M(1,n)}),o(t,e+" Iterator")}function L(t,e,i,r){var s=t[bt],u=p(s,nt)||p(s,kt)||r&&p(s,r)||i;if(n&&(W(s,u),u!==i)){var a=le(u.call(new t));o(a,e+" Iterator",!0),ve(s,kt)&&W(a,d)}return en[e]=u,en[e+" Iterator"]=d,u}function H(t,e,n,i,r,s){function o(t){return function(){return new n(this,t)}}B(n,e,i);var u=o(Ze+tn),a=o(tn);r==tn?a=L(t,e,a,"values"):u=L(t,e,u,"entries"),r&&G(Ue+ze*rn,e,{entries:u,keys:s?a:o(Ze),values:a})}function z(t,e){return{value:e,done:!!t}}function $(e){var n=jt(e),i=t[pt],r=(i&&i[St]||kt)in n;return r||nt in n||ve(en,a(n))}function J(e){var n=t[pt],i=e[n&&n[St]||kt],r=i||e[nt]||en[a(e)];return N(r.call(e))}function U(t,e,n){return n?h(t,e):t(e)}function Y(t){var e=!0,n={next:function(){throw 1},"return":function(){e=!1}};n[nt]=d;try{t(n)}catch(i){}return e}function K(t){var e=t["return"];e!==i&&e.call(t)}function X(t,e){try{t(e)}catch(n){throw K(e),n}}function Z(t,e,n,i){X(function(t){for(var r,s=l(n,i,e?2:1);!(r=t.next()).done;)if(U(s,r.value,e)===!1)return K(t)},J(t))}var tt,et,nt,it,rt="Object",st="Function",ot="Array",ut="String",at="Number",ct="RegExp",lt="Date",ht="Map",ft="Set",_t="WeakMap",dt="WeakSet",pt="Symbol",mt="Promise",gt="Math",vt="Arguments",bt="prototype",yt="constructor",Pt="toString",Tt=Pt+"Tag",xt="toLocaleString",wt="hasOwnProperty",At="forEach",St="iterator",kt="@@"+St,Ct="process",Ot="createElement",Et=t[st],jt=t[rt],Nt=t[ot],Rt=t[ut],Mt=t[at],Vt=(t[ct],t[lt],t[ht]),qt=t[ft],Dt=t[_t],It=t[dt],Ft=t[pt],Qt=t[gt],Gt=t.TypeError,Wt=t.RangeError,Bt=t.setTimeout,Lt=t.setImmediate,Ht=t.clearImmediate,zt=t.parseInt,$t=t.isFinite,Jt=t[Ct],Ut=Jt&&Jt.nextTick,Yt=t.document,Kt=Yt&&Yt.documentElement,Xt=(t.navigator,t.define),Zt=t.console||{},te=Nt[bt],ee=jt[bt],ne=Et[bt],ie=1/0,re=".",se=l(/./.test,/\[native code\]\s*\}\s*$/,1),oe=ee[Pt],ue=ne.call,ae=ne.apply,ce=jt.create,le=jt.getPrototypeOf,he=jt.setPrototypeOf,fe=jt.defineProperty,_e=(jt.defineProperties,jt.getOwnPropertyDescriptor),de=jt.keys,pe=jt.getOwnPropertyNames,me=jt.getOwnPropertySymbols,ge=jt.isFrozen,ve=l(ue,ee[wt],2),be=jt,ye=jt.assign||function(t){for(var e=jt(E(t)),n=arguments.length,i=1;n>i;)for(var r,s=be(arguments[i++]),o=de(s),u=o.length,a=0;u>a;)e[r=o[a++]]=s[r];return e},Pe=te.push,Te=(te.unshift,te.slice,te.splice,te.indexOf,te[At]),xe=9007199254740991,we=Qt.pow,Ae=Qt.abs,Se=Qt.ceil,ke=Qt.floor,Ce=Qt.max,Oe=Qt.min,Ee=Qt.random,je=Qt.trunc||function(t){return(t>0?ke:Se)(t)},Ne="Reduce of empty object with no initial value",Re=!!function(){try{return 2==fe({},"a",{get:function(){return 2}}).a}catch(t){}}(),Me=0,Ve=q(1),qe=Ft?V:Ve,De=Ft||D,Ie=I("unscopables"),Fe=te[Ie]||{},Qe=I(Tt),Ge=I("species"),We=u(Jt)==Ct,Be={},Le=n?t:Be,He=t.core,ze=1,$e=2,Je=4,Ue=8,Ye=16,Ke=32;"undefined"!=typeof e&&e.exports?e.exports=Be:s(Xt)&&Xt.amd?Xt(function(){return Be}):it=!0,(it||n)&&(Be.noConflict=function(){return t.core=He,Be},t.core=Be),nt=I(St);var Xe=De("iter"),Ze=1,tn=2,en={},nn={},rn="keys"in te&&!("next"in[].keys());W(nn,d),!function(e,n,i,r){se(Ft)||(Ft=function(t){O(!(this instanceof Ft),pt+" is not a "+yt);var n=D(t),s=qe(ce(Ft[bt]),e,n);return i[n]=s,Re&&r&&fe(ee,n,{configurable:!0,set:function(t){Ve(this,n,t)}}),s},Ve(Ft[bt],Pt,function(){return this[e]})),G($e+Ke,{Symbol:Ft});var s={"for":function(t){return ve(n,t+="")?n[t]:n[t]=Ft(t)},iterator:nt||I(St),keyFor:c.call(g,n),species:Ge,toStringTag:Qe=I(Tt,!0),unscopables:Ie,pure:De,set:qe,useSetter:function(){r=!0},useSimple:function(){r=!1}};Te.call(v("hasInstance,isConcatSpreadable,match,replace,search,split,toPrimitive"),function(t){s[t]=I(t)}),G(Je,pt,s),o(Ft,pt),G(Je+ze*!se(Ft),rt,{getOwnPropertyNames:function(t){for(var e,n=pe(f(t)),r=[],s=0;n.length>s;)ve(i,e=n[s++])||r.push(e);return r},getOwnPropertySymbols:function(t){for(var e,n=pe(f(t)),r=[],s=0;n.length>s;)ve(i,e=n[s++])&&r.push(i[e]);return r}}),o(Qt,gt,!0),o(t.JSON,"JSON",!0)}(De("tag"),{},{},!0),!function(){var t={assign:ye,is:function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}};"__proto__"in ee&&function(e,n){try{n=l(ue,_e(ee,"__proto__").set,2),n({},te)}catch(i){e=!0}t.setPrototypeOf=he=he||function(t,i){return N(t),O(null===i||r(i),i,": can't set as prototype!"),e?t.__proto__=i:n(t,i),t}}(),G(Je,rt,t)}(),!function(){function t(t,e){var n=jt[t],i=Be[rt][t],s=0,o={};if(!i||se(i)){o[t]=1==e?function(t){return r(t)?n(t):t}:2==e?function(t){return r(t)?n(t):!0}:3==e?function(t){return r(t)?n(t):!1}:4==e?function(t,e){return n(f(t),e)}:function(t){return n(f(t))};try{n(re)}catch(u){s=1}G(Je+ze*s,rt,o)}}t("freeze",1),t("seal",1),t("preventExtensions",1),t("isFrozen",2),t("isSealed",2),t("isExtensible",3),t("getOwnPropertyDescriptor",4),t("getPrototypeOf"),t("keys"),t("getOwnPropertyNames")}(),!function(t){G(Je,at,{EPSILON:we(2,-52),isFinite:function(t){return"number"==typeof t&&$t(t)},isInteger:t,isNaN:T,isSafeInteger:function(e){return t(e)&&Ae(e)<=xe},MAX_SAFE_INTEGER:xe,MIN_SAFE_INTEGER:-xe,parseFloat:parseFloat,parseInt:zt})}(Mt.isInteger||function(t){return!r(t)&&$t(t)&&ke(t)===t}),!function(){function t(e){return $t(e=+e)&&0!=e?0>e?-t(-e):r(e+s(e*e+1)):e}function e(t){return 0==(t=+t)?t:t>-1e-6&&1e-6>t?t+t*t/2:i(t)-1}var n=Qt.E,i=Qt.exp,r=Qt.log,s=Qt.sqrt,o=Qt.sign||function(t){return 0==(t=+t)||t!=t?t:0>t?-1:1};G(Je,gt,{acosh:function(t){return(t=+t)<1?0/0:$t(t)?r(t/n+s(t+1)*s(t-1)/n)+1:t},asinh:t,atanh:function(t){return 0==(t=+t)?t:r((1+t)/(1-t))/2},cbrt:function(t){return o(t=+t)*we(Ae(t),1/3)},clz32:function(t){return(t>>>=0)?32-t[Pt](2).length:32},cosh:function(t){return(i(t=+t)+i(-t))/2},expm1:e,fround:function(t){return new Float32Array([t])[0]},hypot:function(){for(var t,e=0,n=arguments.length,i=n,r=Nt(n),o=-ie;n--;){if(t=r[n]=+arguments[n],t==ie||t==-ie)return ie;t>o&&(o=t)}for(o=t||1;i--;)e+=we(r[i]/o,2);return o*s(e)},imul:function(t,e){var n=65535,i=+t,r=+e,s=n&i,o=n&r;return 0|s*o+((n&i>>>16)*o+s*(n&r>>>16)<<16>>>0)},log1p:function(t){return(t=+t)>-1e-8&&1e-8>t?t-t*t/2:r(1+t)},log10:function(t){return r(t)/Qt.LN10},log2:function(t){return r(t)/Qt.LN2},sign:o,sinh:function(t){return Ae(t=+t)<1?(e(t)-e(-t))/2:(i(t-1)-i(-t-1))*(n/2)},tanh:function(t){var n=e(t=+t),r=e(-t);return n==ie?1:r==ie?-1:(n-r)/(i(t)+i(-t))},trunc:je})}(),!function(t){function e(t){if(u(t)==ct)throw Gt()}G(Je,ut,{fromCodePoint:function(){for(var e,n=[],i=arguments.length,r=0;i>r;){if(e=+arguments[r++],A(e,1114111)!==e)throw Wt(e+" is not a valid code point");n.push(65536>e?t(e):t(((e-=65536)>>10)+55296,e%1024+56320))}return n.join("")},raw:function(t){for(var e=f(t.raw),n=w(e.length),i=arguments.length,r=[],s=0;n>s;)r.push(Rt(e[s++])),i>s&&r.push(Rt(arguments[s]));return r.join("")}}),G(Ue,ut,{codePointAt:C(!1),endsWith:function(t){e(t);var n=Rt(E(this)),r=arguments[1],s=w(n.length),o=r===i?s:Oe(w(r),s);return t+="",n.slice(o-t.length,o)===t},includes:function(t){return e(t),!!~Rt(E(this)).indexOf(t,arguments[1])},repeat:function(t){var e=Rt(E(this)),n="",i=x(t);if(0>i||i==ie)throw Wt("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n},startsWith:function(t){e(t);var n=Rt(E(this)),i=w(Oe(arguments[1],n.length));return t+="",n.slice(i,i+t.length)===t}})}(Rt.fromCharCode),!function(){G(Je+ze*Y(Nt.from),ot,{from:function(t){var e,n,r,s=jt(E(t)),o=arguments[1],u=o!==i,a=u?l(o,arguments[2],2):i,c=0;if($(s))n=new(P(this,Nt)),X(function(t){for(;!(r=t.next()).done;c++)n[c]=u?a(r.value,c):r.value},J(s));else for(n=new(P(this,Nt))(e=w(s.length));e>c;c++)n[c]=u?a(s[c],c):s[c];return n.length=c,n}}),G(Je,ot,{of:function(){for(var t=0,e=arguments.length,n=new(P(this,Nt))(e);e>t;)n[t]=arguments[t++];return n.length=e,n}}),Q(Nt)}(),!function(){G(Ue,ot,{copyWithin:function(t,e){var n=jt(E(this)),r=w(n.length),s=A(t,r),o=A(e,r),u=arguments[2],a=u===i?r:A(u,r),c=Oe(a-o,r-s),l=1;for(s>o&&o+c>s&&(l=-1,o=o+c-1,s=s+c-1);c-->0;)o in n?n[s]=n[o]:delete n[s],s+=l,o+=l;return n},fill:function(t){for(var e=jt(E(this)),n=w(e.length),r=A(arguments[1],n),s=arguments[2],o=s===i?n:A(s,n);o>r;)e[r++]=t;return e},find:b(5),findIndex:b(6)}),n&&(Te.call(v("find,findIndex,fill,copyWithin,entries,keys,values"),function(t){Fe[t]=!0}),Ie in te||Ve(te,Ie,Fe))}(),!function(t){H(Nt,ot,function(t,e){qe(this,Xe,{o:f(t),i:0,k:e})},function(){var t=this[Xe],e=t.o,n=t.k,r=t.i++;return!e||r>=e.length?(t.o=i,z(1)):n==Ze?z(0,r):n==tn?z(0,e[r]):z(0,[r,e[r]])},tn),en[vt]=en[ot],H(Rt,ut,function(t){qe(this,Xe,{o:Rt(t),i:0})},function(){var e,n=this[Xe],i=n.o,r=n.i;return r>=i.length?z(1):(e=t.call(i,r),n.i+=e.length,z(0,e))})}(C(!0)),s(Lt)&&s(Ht)||function(e){function n(t){if(ve(p,t)){var e=p[t];delete p[t],e()}}function i(t){n(t.data)}var r,o,u,a=t.postMessage,f=t.addEventListener,_=t.MessageChannel,d=0,p={};Lt=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return p[++d]=function(){h(s(t)?t:Et(t),e)},r(d),d},Ht=function(t){delete p[t]},We?r=function(t){Ut(c.call(n,t))}:f&&s(a)&&!t.importScripts?(r=function(t){a(t,"*")},f("message",i,!1)):s(_)?(o=new _,u=o.port2,o.port1.onmessage=i,r=l(u.postMessage,u,1)):r=Yt&&e in Yt[Ot]("script")?function(t){Kt.appendChild(Yt[Ot]("script"))[e]=function(){Kt.removeChild(this),n(t)}}:function(t){Bt(n,0,t)}}("onreadystatechange"),G($e+Ye,{setImmediate:Lt,clearImmediate:Ht}),!function(t,e){s(t)&&s(t.resolve)&&t.resolve(e=new t(function(){}))==e||function(e,n){function o(t){var e;return r(t)&&(e=t.then),s(e)?e:!1}function u(t){var e,i=t[n],r=i.c,s=0;if(i.h)return!0;for(;r.length>s;)if(e=r[s++],e.fail||u(e.P))return!0}function a(t,n){var i=t.c;(n||i.length)&&e(function(){var e=t.p,r=t.v,a=1==t.s,c=0;if(n&&!u(e))Bt(function(){u(e)||(We?!Jt.emit("unhandledRejection",r,e):s(Zt.error)&&Zt.error("Unhandled promise rejection",r))},1e3);else for(;i.length>c;)!function(e){var n,i,s=a?e.ok:e.fail;try{s?(a||(t.h=!0),n=s===!0?r:s(r),n===e.P?e.rej(Gt(mt+"-chain cycle")):(i=o(n))?i.call(n,e.res,e.rej):e.res(n)):e.rej(r)}catch(u){e.rej(u)}}(i[c++]);i.length=0})}function c(t){var e,n,i=this;if(!i.d){i.d=!0,i=i.r||i;try{(e=o(t))?(n={r:i,d:!1},e.call(t,l(c,n,1),l(h,n,1))):(i.v=t,i.s=1,a(i))}catch(r){h.call(n||{r:i,d:!1},r)}}}function h(t){var e=this;e.d||(e.d=!0,e=e.r||e,e.v=t,e.s=2,a(e,!0))}function f(t){var e=N(t)[Ge];return e!=i?e:t}t=function(e){j(e),R(this,t,mt);var r={p:this,c:[],s:0,d:!1,v:i,h:!1};Ve(this,n,r);try{e(l(c,r,1),l(h,r,1))}catch(s){h.call(r,s)}},F(t[bt],{then:function(e,r){var o=N(N(this)[yt])[Ge],u={ok:s(e)?e:!0,fail:s(r)?r:!1},c=u.P=new(o!=i?o:t)(function(t,e){u.res=j(t),u.rej=j(e)}),l=this[n];return l.c.push(u),l.s&&a(l),c},"catch":function(t){return this.then(i,t)}}),F(t,{all:function(t){var e=f(this),n=[];return new e(function(i,r){Z(t,!1,Pe,n);var s=n.length,o=Nt(s);s?Te.call(n,function(t,n){e.resolve(t).then(function(t){o[n]=t,--s||i(o)},r)}):i(o)})},race:function(t){var e=f(this);return new e(function(n,i){Z(t,!1,function(t){e.resolve(t).then(n,i)})})},reject:function(t){return new(f(this))(function(e,n){n(t)})},resolve:function(t){return r(t)&&n in t&&le(t)===this[bt]?t:new(f(this))(function(e){e(t)})}})}(Ut||Lt,De("record")),o(t,mt),Q(t),G($e+ze*!se(t),{Promise:t})}(t[mt]),!function(){function t(t,e,r,s,u,a){function c(t,e){return e!=i&&Z(e,u,t[_],t),t}function l(t,e){var i=d[t];n&&(d[t]=function(t,n){var r=i.call(this,0===t?0:t,n);return e?this:r})}var _=u?"set":"add",d=t&&t[bt],v={};if(se(t)&&(a||!rn&&ve(d,At)&&ve(d,"entries"))){var y,P=t,T=new t,x=T[_](a?{}:-0,1);Y(function(e){new t(e)})&&(t=function(n){return R(this,t,e),c(new P,n)},t[bt]=d,n&&(d[yt]=t)),a||T[At](function(t,e){y=1/e===-ie}),y&&(l("delete"),l("has"),u&&l("get")),(y||x!==T)&&l(_,!0)}else t=a?function(n){R(this,t,e),qe(this,h,b++),c(this,n)}:function(n){var r=this;R(r,t,e),qe(r,f,ce(null)),qe(r,g,0),qe(r,p,i),qe(r,m,i),c(r,n)},F(F(t[bt],r),s),a||!Re||fe(t[bt],"size",{get:function(){return E(this[g])}});return o(t,e),Q(t),v[e]=t,G($e+Ke+ze*!se(t),v),a||H(t,e,function(t,e){qe(this,Xe,{o:t,k:e})},function(){for(var t=this[Xe],e=t.k,n=t.l;n&&n.r;)n=n.p;return t.o&&(t.l=n=n?n.n:t.o[m])?e==Ze?z(0,n.k):e==tn?z(0,n.v):z(0,[n.k,n.v]):(t.o=i,z(1))},u?Ze+tn:tn,!u),t}function e(t,e){if(!r(t))return("string"==typeof t?"S":"P")+t;if(ge(t))return"F";if(!ve(t,h)){if(!e)return"E";Ve(t,h,++b)}return"O"+t[h]}function s(t,n){var i,r=e(n);if("F"!=r)return t[f][r];for(i=t[m];i;i=i.n)if(i.k==n)return i}function u(t,n,r){var o,u,a=s(t,n);return a?a.v=r:(t[p]=a={i:u=e(n,!0),k:n,v:r,p:o=t[p],n:i,r:!1},t[m]||(t[m]=a),o&&(o.n=a),t[g]++,"F"!=u&&(t[f][u]=a)),t}function a(t,e,n){return ge(N(e))?c(t).set(e,n):(ve(e,_)||Ve(e,_,{}),e[_][t[h]]=n),t}function c(t){return t[d]||Ve(t,d,new Vt)[d]}var h=De("uid"),f=De("O1"),_=De("weak"),d=De("leak"),p=De("last"),m=De("first"),g=Re?De("size"):"size",b=0,y={},P={clear:function(){for(var t=this,e=t[f],n=t[m];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=i),delete e[n.i];t[m]=t[p]=i,t[g]=0},"delete":function(t){var e=this,n=s(e,t);if(n){var i=n.n,r=n.p;delete e[f][n.i],n.r=!0,r&&(r.n=i),i&&(i.p=r),e[m]==n&&(e[m]=i),e[p]==n&&(e[p]=r),e[g]--}return!!n},forEach:function(t){for(var e,n=l(t,arguments[1],3);e=e?e.n:this[m];)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!s(this,t)}};Vt=t(Vt,ht,{get:function(t){var e=s(this,t);return e&&e.v},set:function(t,e){return u(this,0===t?0:t,e)}},P,!0),qt=t(qt,ft,{add:function(t){return u(this,t=0===t?0:t,t)}},P);var T={"delete":function(t){return r(t)?ge(t)?c(this)["delete"](t):ve(t,_)&&ve(t[_],this[h])&&delete t[_][this[h]]:!1},has:function(t){return r(t)?ge(t)?c(this).has(t):ve(t,_)&&ve(t[_],this[h]):!1}};Dt=t(Dt,_t,{get:function(t){if(r(t)){if(ge(t))return c(this).get(t);if(ve(t,_))return t[_][this[h]]}},set:function(t,e){
return a(this,t,e)}},T,!0,!0),n&&7!=(new Dt).set(jt.freeze(y),7).get(y)&&Te.call(v("delete,has,get,set"),function(t){var e=Dt[bt][t];Dt[bt][t]=function(n,i){if(r(n)&&ge(n)){var s=c(this)[t](n,i);return"set"==t?this:s}return e.call(this,n,i)}}),It=t(It,dt,{add:function(t){return a(this,t,!0)}},T,!1,!0)}(),!function(){function t(t){var e,n=[];for(e in t)n.push(e);qe(this,Xe,{o:t,a:n,i:0})}function e(t){return function(e){N(e);try{return t.apply(i,arguments),!0}catch(n){return!1}}}function n(t,e){var s,o=arguments.length<3?t:arguments[2],u=_e(N(t),e);return u?ve(u,"value")?u.value:u.get===i?i:u.get.call(o):r(s=le(t))?n(s,e,o):i}function s(t,e,n){var o,u,a=arguments.length<4?t:arguments[3],c=_e(N(t),e);if(!c){if(r(u=le(t)))return s(u,e,n,a);c=M(0)}return ve(c,"value")?c.writable!==!1&&r(a)?(o=_e(a,e)||M(0),o.value=n,fe(a,e,o),!0):!1:c.set===i?!1:(c.set.call(a,n),!0)}B(t,rt,function(){var t,e=this[Xe],n=e.a;do if(e.i>=n.length)return z(1);while(!((t=n[e.i++])in e.o));return z(0,t)});var o=jt.isExtensible||_,u={apply:l(ue,ae,3),construct:function(t,e){var n=j(arguments.length<3?t:arguments[2])[bt],i=ce(r(n)?n:ee),s=ae.call(t,i,e);return r(s)?s:i},defineProperty:e(fe),deleteProperty:function(t,e){var n=_e(N(t),e);return n&&!n.configurable?!1:delete t[e]},enumerate:function(e){return new t(N(e))},get:n,getOwnPropertyDescriptor:function(t,e){return _e(N(t),e)},getPrototypeOf:function(t){return le(N(t))},has:function(t,e){return e in t},isExtensible:function(t){return!!o(N(t))},ownKeys:m,preventExtensions:e(jt.preventExtensions||_),set:s};he&&(u.setPrototypeOf=function(t,e){return he(N(t),e),!0}),G($e,{Reflect:{}}),G(Je,"Reflect",u)}(),!function(){function t(t){return function(e){var n,i=f(e),r=de(e),s=r.length,o=0,u=Nt(s);if(t)for(;s>o;)u[o]=[n=r[o++],i[n]];else for(;s>o;)u[o]=i[r[o++]];return u}}G(Ue,ot,{includes:y(!0)}),G(Ue,ut,{at:C(!0)}),G(Je,rt,{getOwnPropertyDescriptors:function(t){var e=f(t),n={};return Te.call(m(e),function(t){fe(n,t,M(0,_e(e,t)))}),n},values:t(!1),entries:t(!0)}),G(Je,ct,{escape:k(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})}(),!function(t){function e(t){if(t){var e=t[bt];Ve(e,tt,e.get),Ve(e,n,e.set),Ve(e,i,e["delete"])}}tt=I(t+"Get",!0);var n=I(t+ft,!0),i=I(t+"Delete",!0);G(Je,pt,{referenceGet:tt,referenceSet:n,referenceDelete:i}),Ve(ne,tt,d),e(Vt),e(Dt)}("reference"),!function(t){function e(t,e){qe(this,Xe,{o:f(t),a:de(t),i:0,k:e})}function n(t){return function(n){return new e(n,t)}}function s(t){var e=1==t,n=4==t;return function(r,s,o){var u,a,c,h=l(s,o,3),_=f(r),d=e||7==t||2==t?new(P(this,et)):i;for(u in _)if(ve(_,u)&&(a=_[u],c=h(a,u,r),t))if(e)d[u]=c;else if(c)switch(t){case 2:d[u]=a;break;case 3:return!0;case 5:return a;case 6:return u;case 7:d[c[0]]=c[1]}else if(n)return!1;return 3==t||n?n:d}}function o(t){return function(e,n,r){j(n);var s,o,u,a=f(e),c=de(a),l=c.length,h=0;for(t?s=r==i?new(P(this,et)):jt(r):arguments.length<3?(O(l,Ne),s=a[c[h++]]):s=jt(r);l>h;)if(ve(a,o=c[h++]))if(u=n(s,a[o],o,e),t){if(u===!1)break}else s=u;return s}}function u(t,e){return(e==e?g(t,e):a(t,T))!==i}et=function(t){var e=ce(null);return t!=i&&($(t)?Z(t,!0,function(t,n){e[t]=n}):ye(e,t)),e},et[bt]=null,B(e,t,function(){var t,e=this[Xe],n=e.o,r=e.a,s=e.k;do if(e.i>=r.length)return e.o=i,z(1);while(!ve(n,t=r[e.i++]));return s==Ze?z(0,t):s==tn?z(0,n[t]):z(0,[t,n[t]])});var a=s(6),c={keys:n(Ze),values:n(tn),entries:n(Ze+tn),forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findKey:a,mapPairs:s(7),reduce:o(!1),turn:o(!0),keyOf:g,includes:u,has:ve,get:p,set:q(0),isDict:function(t){return r(t)&&le(t)===et[bt]}};if(tt)for(var _ in c)!function(t){function e(){for(var e=[this],n=0;n<arguments.length;)e.push(arguments[n++]);return h(t,e)}t[tt]=function(){return e}}(c[_]);G($e+ze,{Dict:F(et,c)})}("Dict"),!function(t,e){function n(e,i){return this instanceof n?(this[Xe]=J(e),void(this[t]=!!i)):new n(e,i)}function r(n){function i(n,i,r){this[Xe]=J(n),this[t]=n[t],this[e]=l(i,r,n[t]?2:1)}return B(i,"Chain",n,s),W(i[bt],d),i}B(n,"Wrapper",function(){return this[Xe].next()});var s=n[bt];W(s,function(){return this[Xe]});var o=r(function(){var n=this[Xe].next();return n.done?n:z(0,U(this[e],n.value,this[t]))}),u=r(function(){for(;;){var n=this[Xe].next();if(n.done||U(this[e],n.value,this[t]))return n}});F(s,{of:function(e,n){Z(this,this[t],e,n)},array:function(t,e){var n=[];return Z(t!=i?this.map(t,e):this,!1,Pe,n),n},filter:function(t,e){return new u(this,t,e)},map:function(t,e){return new o(this,t,e)}}),n.isIterable=$,n.getIterator=J,G($e+ze,{$for:n})}("entries",De("fn")),G($e+ze,{delay:function(t){return new Promise(function(e){Bt(e,t,!0)})}}),!function(t,e){function n(n){var r=this,s={};return Ve(r,t,function(t){return t!==i&&t in r?ve(s,t)?s[t]:s[t]=l(r[t],r,-1):e.call(r)})[t](n)}Be._=Le._=Le._||{},G(Ue+ze,st,{part:c,only:function(t,e){var n=j(this),i=w(t),r=arguments.length>1;return function(){for(var t=Oe(i,arguments.length),s=Nt(t),o=0;t>o;)s[o]=arguments[o++];return h(n,s,r?e:this)}}}),Ve(Le._,Pt,function(){return t}),Ve(ee,t,n),Re||Ve(te,t,n)}(Re?D("tie"):xt,ee[xt]),!function(){function t(t,e){for(var n,i=m(f(e)),r=i.length,s=0;r>s;)fe(t,n=i[s++],_e(e,n));return t}G(Je+ze,rt,{isObject:r,classof:a,define:t,make:function(e,n){return t(ce(e),n)}})}(),G(Ue+ze,ot,{turn:function(t,e){j(t);for(var n=e==i?[]:jt(e),r=be(this),s=w(r.length),o=0;s>o&&t(n,r[o],o++,this)!==!1;);return n}}),n&&(Fe.turn=!0),!function(t){function e(t){qe(this,Xe,{l:w(t),i:0})}B(e,at,function(){var t=this[Xe],e=t.i++;return e<t.l?z(0,e):z(1)}),L(Mt,at,function(){return new e(this)}),t.random=function(t){var e=+this,n=t==i?0:+t,r=Oe(e,n);return Ee()*(Ce(e,n)-r)+r},Te.call(v("round,floor,ceil,abs,sin,asin,cos,acos,tan,atan,exp,sqrt,max,min,pow,atan2,acosh,asinh,atanh,cbrt,clz32,cosh,expm1,hypot,imul,log1p,log10,log2,sign,sinh,tanh,trunc"),function(e){var n=Qt[e];n&&(t[e]=function(){for(var t=[+this],e=0;arguments.length>e;)t.push(arguments[e++]);return h(n,t)})}),G(Ue+ze,at,t)}({}),!function(){var t,e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},n={};for(t in e)n[e[t]]=t;G(Ue+ze,ut,{escapeHTML:k(/[&<>"']/g,e),unescapeHTML:k(/&(?:amp|lt|gt|quot|apos);/g,n)})}(),!function(t,e,n,i,r,s,o,u,a){function c(e){return function(c,l){function h(t){return f[e+t]()}var f=this,_=n[ve(n,l)?l:i];return Rt(c).replace(t,function(t){switch(t){case"s":return h(r);case"ss":return S(h(r));case"m":return h(s);case"mm":return S(h(s));case"h":return h(o);case"hh":return S(h(o));case"D":return h(lt);case"DD":return S(h(lt));case"W":return _[0][h("Day")];case"N":return h(u)+1;case"NN":return S(h(u)+1);case"M":return _[2][h(u)];case"MM":return _[1][h(u)];case"Y":return h(a);case"YY":return S(h(a)%100)}return t})}}function l(t,i){function r(t){var n=[];return Te.call(v(i.months),function(i){n.push(i.replace(e,"$"+t))}),n}return n[t]=[v(i.weekdays),r(1),r(2)],Be}G(Ue+ze,lt,{format:c("get"),formatUTC:c("getUTC")}),l(i,{weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",months:"January,February,March,April,May,June,July,August,September,October,November,December"}),l("ru",{weekdays:",,,,,,",months:":|,:|,:|,:|,:|,:|,:|,:|,:|,:|,:|,:|"}),Be.locale=function(t){return ve(n,t)?i=t:i},Be.addLocale=l}(/\b\w\w?\b/g,/:(.*)\|(.*)$/,{},"en","Seconds","Minutes","Hours","Month","FullYear"),G($e+ze,{global:t}),!function(t){function e(e,n){Te.call(v(e),function(e){e in te&&(t[e]=l(ue,te[e],n))})}e("pop,reverse,shift,keys,values,entries",1),e("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),e("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),G(Je,ot,t)}({}),!function(t){!n||!t||nt in t[bt]||Ve(t[bt],nt,en[ot]),en.NodeList=en[ot]}(t.NodeList),!function(t,e){Te.call(v("assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,isIndependentlyComposed,log,markTimeline,profile,profileEnd,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn"),function(n){t[n]=function(){return e&&n in Zt?ae.call(Zt[n],Zt,arguments):void 0}}),G($e+ze,{log:ye(t.log,t,{enable:function(){e=!0},disable:function(){e=!1}})})}({},!0)}("undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),!1),e.exports={"default":e.exports,__esModule:!0}},{}],18:[function(t,e,n){"use strict";n["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n.__esModule=!0},{}],19:[function(t,e,n){"use strict";n["default"]=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),n.__esModule=!0},{}],20:[function(t,e,n){"use strict";var i=t("babel-runtime/core-js")["default"];n["default"]=function(t,e,n){for(var r=!0;r;){r=!1;var s=t,o=e,u=n;a=l=c=void 0;var a=i.Object.getOwnPropertyDescriptor(s,o);{if(void 0!==a){if("value"in a&&a.writable)return a.value;var c=a.get;return void 0===c?void 0:c.call(u)}var l=i.Object.getPrototypeOf(s);if(null===l)return void 0;t=l,e=o,n=u,r=!0}}},n.__esModule=!0},{"babel-runtime/core-js":17}],21:[function(t,e,n){"use strict";n["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},n.__esModule=!0},{}]},{},[1])(1)});